"use strict";(self.webpackChunkcollaboration=self.webpackChunkcollaboration||[]).push([[966],{86794:function(at,G,i){i.r(G),i.d(G,{default:function(){return Ke}});var ue=i(9783),k=i.n(ue),ve=i(97857),I=i.n(ve),de=i(5574),M=i.n(de),fe=i(68400),U=i.n(fe),ge=i(90930),he=i(67286),O=i(38410),me=i(96365),Ce=i(73360),pe=i(9361),xe=i(55241),T=i(42075),n=i(67294),V=i(80854),X=i(87462),A=i(4942),Y=i(97685),Z=i(1413),be=i(15671),Re=i(43144),ye=i(32531),Se=i(73568),J=i(91),K=i(71002),Ee=i(10274),He=["b"],Ze=["v"],z=function(e){return Math.round(Number(e||0))},De=function(e){if(e&&(0,K.Z)(e)==="object"&&"h"in e&&"b"in e){var t=e,s=t.b,r=(0,J.Z)(t,He);return(0,Z.Z)((0,Z.Z)({},r),{},{v:s})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},L=function(a){(0,ye.Z)(t,a);var e=(0,Se.Z)(t);function t(s){return(0,be.Z)(this,t),e.call(this,De(s))}return(0,Re.Z)(t,[{key:"toHsbString",value:function(){var r=this.toHsb(),o=z(r.s*100),l=z(r.b*100),u=z(r.h),d=r.a,f="hsb(".concat(u,", ").concat(o,"%, ").concat(l,"%)"),C="hsba(".concat(u,", ").concat(o,"%, ").concat(l,"%, ").concat(d.toFixed(d===0?0:2),")");return d===1?f:C}},{key:"toHsb",value:function(){var r=this.toHsv();(0,K.Z)(this.originalInput)==="object"&&this.originalInput&&"h"in this.originalInput&&(r=this.originalInput);var o=r,l=o.v,u=(0,J.Z)(o,Ze);return(0,Z.Z)((0,Z.Z)({},u),{},{b:r.v})}}]),t}(Ee.C),je="rc-color-picker",D=function(e){return e instanceof L?e:new L(e)},Le=D("#1677ff"),Q=function(e){var t=e.offset,s=e.targetRef,r=e.containerRef,o=e.color,l=e.type,u=r.current.getBoundingClientRect(),d=u.width,f=u.height,C=s.current.getBoundingClientRect(),h=C.width,b=C.height,p=h/2,x=b/2,c=(t.x+p)/d,m=1-(t.y+x)/f,g=o.toHsb(),R=c,E=(t.x+p)/d*360;if(l)switch(l){case"hue":return D((0,Z.Z)((0,Z.Z)({},g),{},{h:E<=0?0:E}));case"alpha":return D((0,Z.Z)((0,Z.Z)({},g),{},{a:R<=0?0:R}))}return D({h:g.h,s:c<=0?0:c,b:m>=1?1:m,a:g.a})},w=function(e,t,s,r){var o=e.current.getBoundingClientRect(),l=o.width,u=o.height,d=t.current.getBoundingClientRect(),f=d.width,C=d.height,h=f/2,b=C/2,p=s.toHsb();if(!(f===0&&C===0||f!==C)){if(r)switch(r){case"hue":return{x:p.h/360*l-h,y:-b/3};case"alpha":return{x:p.a/1*l-h,y:-b/3}}return{x:p.s*l-h,y:(1-p.b)*u-b}}},Pe=i(94184),$=i.n(Pe),Ne=function(e){var t=e.color,s=e.prefixCls,r=e.className,o=e.style,l=e.onClick,u="".concat(s,"-color-block");return n.createElement("div",{className:$()(u,r),style:o,onClick:l},n.createElement("div",{className:"".concat(u,"-inner"),style:{background:t}}))},q=Ne;function Oe(a){var e="touches"in a?a.touches[0]:a,t=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,s=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:e.pageX-t,pageY:e.pageY-s}}function Ye(a){var e=a.offset,t=a.targetRef,s=a.containerRef,r=a.direction,o=a.onDragChange,l=a.onDragChangeComplete,u=a.calculate,d=a.color,f=a.disabledDrag,C=(0,n.useState)(e||{x:0,y:0}),h=(0,Y.Z)(C,2),b=h[0],p=h[1],x=(0,n.useRef)(null),c=(0,n.useRef)(null),m=(0,n.useRef)({flag:!1});(0,n.useEffect)(function(){if(m.current.flag===!1){var v=u==null?void 0:u(s);v&&p(v)}},[d,s]),(0,n.useEffect)(function(){return function(){document.removeEventListener("mousemove",x.current),document.removeEventListener("mouseup",c.current),document.removeEventListener("touchmove",x.current),document.removeEventListener("touchend",c.current),x.current=null,c.current=null}},[]);var g=function(y){var B=Oe(y),P=B.pageX,j=B.pageY,N=s.current.getBoundingClientRect(),Qe=N.x,we=N.y,qe=N.width,_e=N.height,se=t.current.getBoundingClientRect(),W=se.width,F=se.height,et=W/2,tt=F/2,nt=Math.max(0,Math.min(P-Qe,qe))-et,rt=Math.max(0,Math.min(j-we,_e))-tt,ie={x:nt,y:r==="x"?b.y:rt};if(W===0&&F===0||W!==F)return!1;p(ie),o==null||o(ie)},R=function(y){y.preventDefault(),g(y)},E=function(y){y.preventDefault(),m.current.flag=!1,document.removeEventListener("mousemove",x.current),document.removeEventListener("mouseup",c.current),document.removeEventListener("touchmove",x.current),document.removeEventListener("touchend",c.current),x.current=null,c.current=null,l==null||l()},H=function(y){document.removeEventListener("mousemove",x.current),document.removeEventListener("mouseup",c.current),!f&&(g(y),m.current.flag=!0,document.addEventListener("mousemove",R),document.addEventListener("mouseup",E),document.addEventListener("touchmove",R),document.addEventListener("touchend",E),x.current=R,c.current=E)};return[b,H]}var _=Ye,$e=function(e){var t=e.size,s=t===void 0?"default":t,r=e.color,o=e.prefixCls;return n.createElement("div",{className:$()("".concat(o,"-handler"),(0,A.Z)({},"".concat(o,"-handler-sm"),s==="small")),style:{backgroundColor:r}})},ee=$e,Be=function(e){var t=e.children,s=e.style,r=e.prefixCls;return n.createElement("div",{className:"".concat(r,"-palette"),style:(0,Z.Z)({position:"relative"},s)},t)},te=Be,Ie=(0,n.forwardRef)(function(a,e){var t=a.children,s=a.offset;return n.createElement("div",{ref:e,style:{position:"absolute",left:s.x,top:s.y,zIndex:1}},t)}),ne=Ie,Me=function(e){var t=e.color,s=e.onChange,r=e.prefixCls,o=e.onChangeComplete,l=e.disabled,u=(0,n.useRef)(),d=(0,n.useRef)(),f=(0,n.useRef)(t),C=_({color:t,containerRef:u,targetRef:d,calculate:function(c){return w(c,d,t)},onDragChange:function(c){var m=Q({offset:c,targetRef:d,containerRef:u,color:t});f.current=m,s(m)},onDragChangeComplete:function(){return o==null?void 0:o(f.current)},disabledDrag:l}),h=(0,Y.Z)(C,2),b=h[0],p=h[1];return n.createElement("div",{ref:u,className:"".concat(r,"-select"),onMouseDown:p,onTouchStart:p},n.createElement(te,{prefixCls:r},n.createElement(ne,{offset:b,ref:d},n.createElement(ee,{color:t.toRgbString(),prefixCls:r})),n.createElement("div",{className:"".concat(r,"-saturation"),style:{backgroundColor:"hsl(".concat(t.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Te=Me,Ve=function(e){var t=e.colors,s=e.children,r=e.direction,o=r===void 0?"to right":r,l=e.type,u=e.prefixCls,d=(0,n.useMemo)(function(){return t.map(function(f,C){var h=D(f);return l==="alpha"&&C===t.length-1&&h.setAlpha(1),h.toRgbString()}).join(",")},[t,l]);return n.createElement("div",{className:"".concat(u,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(d,")")}},s)},Xe=Ve,Ae=function(e){var t=e.gradientColors,s=e.direction,r=e.type,o=r===void 0?"hue":r,l=e.color,u=e.value,d=e.onChange,f=e.onChangeComplete,C=e.disabled,h=e.prefixCls,b=(0,n.useRef)(),p=(0,n.useRef)(),x=(0,n.useRef)(l),c=_({color:l,targetRef:p,containerRef:b,calculate:function(H){return w(H,p,l,o)},onDragChange:function(H){var v=Q({offset:H,targetRef:p,containerRef:b,color:l,type:o});x.current=v,d(v)},onDragChangeComplete:function(){f==null||f(x.current,o)},direction:"x",disabledDrag:C}),m=(0,Y.Z)(c,2),g=m[0],R=m[1];return n.createElement("div",{ref:b,className:$()("".concat(h,"-slider"),"".concat(h,"-slider-").concat(o)),onMouseDown:R,onTouchStart:R},n.createElement(te,{prefixCls:h},n.createElement(ne,{offset:g,ref:p},n.createElement(ee,{size:"small",color:u,prefixCls:h})),n.createElement(Xe,{colors:t,direction:s,type:o,prefixCls:h})))},re=Ae;function ae(a){return a!==void 0}var ze=function(e,t){var s=t.defaultValue,r=t.value,o=(0,n.useState)(function(){var f;return ae(r)?f=r:ae(s)?f=s:f=e,D(f)}),l=(0,Y.Z)(o,2),u=l[0],d=l[1];return(0,n.useEffect)(function(){r&&d(D(r))},[r]),[u,d]},We=ze,Fe=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"],Ge=(0,n.forwardRef)(function(a,e){var t=a.value,s=a.defaultValue,r=a.prefixCls,o=r===void 0?je:r,l=a.onChange,u=a.onChangeComplete,d=a.className,f=a.style,C=a.panelRender,h=a.disabledAlpha,b=h===void 0?!1:h,p=a.disabled,x=p===void 0?!1:p,c=We(Le,{value:t,defaultValue:s}),m=(0,Y.Z)(c,2),g=m[0],R=m[1],E=(0,n.useMemo)(function(){var P=D(g.toRgbString());return P.setAlpha(1),P.toRgbString()},[g]),H=$()("".concat(o,"-panel"),d,(0,A.Z)({},"".concat(o,"-panel-disabled"),x)),v={prefixCls:o,onChangeComplete:u,disabled:x},y=function(j,N){t||R(j),l==null||l(j,N)},B=n.createElement(n.Fragment,null,n.createElement(Te,(0,X.Z)({color:g,onChange:y},v)),n.createElement("div",{className:"".concat(o,"-slider-container")},n.createElement("div",{className:$()("".concat(o,"-slider-group"),(0,A.Z)({},"".concat(o,"-slider-group-disabled-alpha"),b))},n.createElement(re,(0,X.Z)({gradientColors:Fe,color:g,value:"hsl(".concat(g.toHsb().h,",100%, 50%)"),onChange:function(j){return y(j,"hue")}},v)),!b&&n.createElement(re,(0,X.Z)({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",E],color:g,value:g.toRgbString(),onChange:function(j){return y(j,"alpha")}},v))),n.createElement(q,{color:g.toRgbString(),prefixCls:o})));return n.createElement("div",{className:H,style:f,ref:e},typeof C=="function"?C(B):B)}),ke=Ge,S=i(85893),oe,le,Ue=(0,V.styled)(me.Z)(oe||(oe=U()([`
  width: 200px;
`]))),ce=(0,V.styled)(Ce.Z)(le||(le=U()([`
  width: 200px;
`])));function Je(){var a=pe.Z.useToken(),e=a.token,t=new L(e.colorPrimary),s=(0,n.useState)(t.toHex8()),r=M()(s,2),o=r[0],l=r[1],u=(0,n.useState)(t.toHsl()),d=M()(u,2),f=d[0],C=d[1],h=(0,n.useState)(t.toRgb()),b=M()(h,2),p=b[0],x=b[1];return(0,S.jsx)(ge._z,{children:(0,S.jsx)(he.Z,{children:(0,S.jsxs)(O.vY,{column:1,labelStyle:{alignItems:"center",width:50},children:[(0,S.jsx)(O.vY.Item,{label:(0,S.jsx)(V.FormattedMessage,{id:"page.dev.color.color"}),children:(0,S.jsx)(xe.Z,{placement:"bottomLeft",overlayInnerStyle:{padding:0},trigger:"click",content:(0,S.jsx)(ke,{value:o,onChange:function(m){l(m.toHex8()),C(m.toHsl()),x(m.toRgb())}}),children:(0,S.jsx)(q,{style:{cursor:"pointer",marginLeft:0},color:new L(o).toHex8String(),prefixCls:"rc-color-picker"})})}),(0,S.jsx)(O.vY.Item,{label:"RGB",children:(0,S.jsx)(T.Z,{children:(0,S.jsx)(Ue,{addonBefore:"#",value:o,onChange:function(m){var g=m.target.value;if(l(g),g.length===3||g.length===6||g.length===8){var R=new L(g);C(R.toHsl()),x(R.toRgb())}}})})}),(0,S.jsx)(O.vY.Item,{label:"HSL",children:(0,S.jsx)(T.Z,{children:["h","s","l","a"].map(function(c){var m=c==="h"?255:1,g=c==="h"?1:.01,R=c==="h"?0:2;return(0,S.jsx)(ce,{step:g,min:0,max:m,precision:R,onChange:function(H){var v=I()(I()({},f),{},k()({},c,H));if(C(v),v.h!==null&&v.s!==null&&v.l!==null&&v.a!==null){var y=new L("hsla(".concat(v.h,", ").concat(v.s,", ").concat(v.l,", ").concat(v.a,")"));l(y.toHex8()),x(y.toRgb())}},addonBefore:c.toUpperCase(),value:f[c]},c)})})}),(0,S.jsx)(O.vY.Item,{label:"RGB",children:(0,S.jsx)(T.Z,{children:["r","g","b","a"].map(function(c){var m=c==="a"?1:255,g=c==="a"?.01:1,R=c==="a"?2:0;return(0,S.jsx)(ce,{step:g,min:0,max:m,precision:R,onChange:function(H){var v=I()(I()({},p),{},k()({},c,H));if(x(v),v.r!==null&&v.g!==null&&v.b!==null&&v.a!==null){var y=new L(v);l(y.toHex8()),C(y.toHsl())}},addonBefore:c.toUpperCase(),value:p[c]},c)})})})]})})})}var Ke=Je}}]);
